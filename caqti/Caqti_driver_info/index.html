<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Caqti_driver_info (caqti.Caqti_driver_info)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">caqti</a> &#x00BB; Caqti_driver_info</nav><header class="odoc-preamble"><h1>Module <code><span>Caqti_driver_info</span></code></h1><p>Information about a database, its driver, and its query language.</p><p>This module provides descriptions supplied by the driver to aid the application in dealing with differences between database systems.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-dialect_tag#row" class="anchored"><a href="#type-dialect_tag#row" class="anchor"></a><code><span><span class="keyword">type</span> dialect_tag#row</span></code></div><div class="spec-doc"><p>A tag used for easy dispatching between query languages.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-dialect_tag" class="anchored"><a href="#type-dialect_tag" class="anchor"></a><code><span><span class="keyword">and</span> dialect_tag</span><span> = <span class="keyword">private</span> </span><span>[&gt; </span></code><table><tr id="type-dialect_tag.Mysql" class="anchored"><td class="def constructor"><a href="#type-dialect_tag.Mysql" class="anchor"></a><code><span>| </span></code><code><span>`Mysql</span></code></td></tr><tr id="type-dialect_tag.Pgsql" class="anchored"><td class="def constructor"><a href="#type-dialect_tag.Pgsql" class="anchor"></a><code><span>| </span></code><code><span>`Pgsql</span></code></td></tr><tr id="type-dialect_tag.Sqlite" class="anchored"><td class="def constructor"><a href="#type-dialect_tag.Sqlite" class="anchor"></a><code><span>| </span></code><code><span>`Sqlite</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>A tag used for easy dispatching between query languages.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-sql_dialect_tag" class="anchored"><a href="#type-sql_dialect_tag" class="anchor"></a><code><span><span class="keyword">type</span> sql_dialect_tag</span><span> = </span><span>[ </span></code><table><tr id="type-sql_dialect_tag.Mysql" class="anchored"><td class="def constructor"><a href="#type-sql_dialect_tag.Mysql" class="anchor"></a><code><span>| </span></code><code><span>`Mysql</span></code></td></tr><tr id="type-sql_dialect_tag.Pgsql" class="anchored"><td class="def constructor"><a href="#type-sql_dialect_tag.Pgsql" class="anchor"></a><code><span>| </span></code><code><span>`Pgsql</span></code></td></tr><tr id="type-sql_dialect_tag.Sqlite" class="anchored"><td class="def constructor"><a href="#type-sql_dialect_tag.Sqlite" class="anchor"></a><code><span>| </span></code><code><span>`Sqlite</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>Subtype of the above which includes only known SQL dialects.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-parameter_style#row" class="anchored"><a href="#type-parameter_style#row" class="anchor"></a><code><span><span class="keyword">type</span> parameter_style#row</span></code></div><div class="spec-doc"><p>How parameters are named. This is useful for SQL since the difference between dialects typically have an intrusive effect on query strings. This may also be useful for non-SQL languages which support some form of variables or placeholders.</p><ul><li><code>`None</code> means that non of the following parameter styles apply, or that the driver does not support parameters at all.</li><li><code>`Linear s</code> means that occurrences of <code>s</code> bind to successive parameters.</li><li><code>`Indexed f</code> means that an occurrence of <code>f i</code> represents parameter number <code>i</code>, counting from 0.</li></ul></div></div><div class="odoc-spec"><div class="spec type" id="type-parameter_style" class="anchored"><a href="#type-parameter_style" class="anchor"></a><code><span><span class="keyword">and</span> parameter_style</span><span> = <span class="keyword">private</span> </span><span>[&gt; </span></code><table><tr id="type-parameter_style.None" class="anchored"><td class="def constructor"><a href="#type-parameter_style.None" class="anchor"></a><code><span>| </span></code><code><span>`None</span></code></td></tr><tr id="type-parameter_style.Linear" class="anchored"><td class="def constructor"><a href="#type-parameter_style.Linear" class="anchor"></a><code><span>| </span></code><code><span>`Linear <span class="keyword">of</span> string</span></code></td></tr><tr id="type-parameter_style.Indexed" class="anchored"><td class="def constructor"><a href="#type-parameter_style.Indexed" class="anchor"></a><code><span>| </span></code><code><span>`Indexed <span class="keyword">of</span> <span>int <span class="arrow">&#45;&gt;</span></span> string</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>How parameters are named. This is useful for SQL since the difference between dialects typically have an intrusive effect on query strings. This may also be useful for non-SQL languages which support some form of variables or placeholders.</p><ul><li><code>`None</code> means that non of the following parameter styles apply, or that the driver does not support parameters at all.</li><li><code>`Linear s</code> means that occurrences of <code>s</code> bind to successive parameters.</li><li><code>`Indexed f</code> means that an occurrence of <code>f i</code> represents parameter number <code>i</code>, counting from 0.</li></ul></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : 
  <span>uri_scheme:string <span class="arrow">&#45;&gt;</span></span>
  <span>?dialect_tag:<a href="#type-dialect_tag">dialect_tag</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?parameter_style:<a href="#type-parameter_style">parameter_style</a> <span class="arrow">&#45;&gt;</span></span>
  <span>can_pool:bool <span class="arrow">&#45;&gt;</span></span>
  <span>can_concur:bool <span class="arrow">&#45;&gt;</span></span>
  <span>can_transact:bool <span class="arrow">&#45;&gt;</span></span>
  <span>describe_has_typed_params:bool <span class="arrow">&#45;&gt;</span></span>
  <span>describe_has_typed_fields:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The function used by drivers to construct a description of themselves. For an explanation of the parameters, see the corresponding projections.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dummy" class="anchored"><a href="#val-dummy" class="anchor"></a><code><span><span class="keyword">val</span> dummy : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>A dummy driver info, useful for instantiating queries for inspection.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-uri_scheme" class="anchored"><a href="#val-uri_scheme" class="anchor"></a><code><span><span class="keyword">val</span> uri_scheme : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>The URI scheme this backend binds to.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dialect_tag" class="anchored"><a href="#val-dialect_tag" class="anchor"></a><code><span><span class="keyword">val</span> dialect_tag : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-dialect_tag">dialect_tag</a></span></code></div><div class="spec-doc"><p>A variant indicating the SQL dialect or other query language, used for easy dispatching when constructing queries. Can be omitted if non of the cases applies, but this means clients must inspect the backend-info to identify the language.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parameter_style" class="anchored"><a href="#val-parameter_style" class="anchor"></a><code><span><span class="keyword">val</span> parameter_style : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-parameter_style">parameter_style</a></span></code></div><div class="spec-doc"><p>How to represent parameters in query strings.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-can_pool" class="anchored"><a href="#val-can_pool" class="anchor"></a><code><span><span class="keyword">val</span> can_pool : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether it makes sense to keep connections around for later reuse when using this driver. As hard requirements, the driver must clear any state which could affect subsequent operation, and it must reliably detect whether the connection is still in a usable state. As a further indicator, the overhead of establishing and closing connections should be high enough that it pays of to keep connections around.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-can_concur" class="anchored"><a href="#val-can_concur" class="anchor"></a><code><span><span class="keyword">val</span> can_concur : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether the driver supports concurrent operation. This is just a hint; it is up to the driver to serialize connections with locking primitives or other means.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-can_transact" class="anchored"><a href="#val-can_transact" class="anchor"></a><code><span><span class="keyword">val</span> can_transact : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether the database and driver supports transactions.</p></div></div></div></body></html>